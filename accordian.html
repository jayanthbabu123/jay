<style>


    .custom-accordion h1 {
        font-family: 'Pacifico', cursive;
        font-weight: 400;
        font-size: 2.5em;
    }
    .custom-accordion ul {
        list-style: none;
        padding: 0;
    }
    .custom-accordion ul .inner {
        padding-left: 1em;
        overflow: hidden;
        display: none;
    }
    .custom-accordion ul .inner.show {
        /*display: block;*/
    }
    .custom-accordion ul li {
        margin: .5em 0;
    }
    .custom-accordion ul li a.toggle {
        width: 100%;
        display: block;
        color: blue;
        padding: .75em;
        border-bottom: 1px solid #ddd;
        border-radius: 0.15em;
        transition: background .3s ease;
    }
    .custom-accordion .panel-body{
        padding:15px;
    }
    .default-border{
        border: 1px solid #ddd;
    }
    .default-border-b{
        border-bottom: 1px solid #ddd;
    }

</style>

<div class="custom-accordion" id="accordionGroupOpen">


</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script>
    var response = {
        responseCode: "000",
        responseDescription: "SUCCESS",
        mainCategories: [
            {
                mainCategoryId: "1006",
                categoryName: "Labs",
                categoryDisplayName: "Labs"
            },
            {
                mainCategoryId: "1007",
                categoryName: "Office Visit By Service",
                categoryDisplayName: "Office Visit By Service"
            },
            {
                mainCategoryId: "1001",
                categoryName: "Imaging-MRI, Scan or X-Ray",
                categoryDisplayName: "Imaging-MRI, Scan or X-Ray"
            },
            {
                mainCategoryId: "1002",
                categoryName: "Office Visit By Specialty",
                categoryDisplayName: "Office Visit By Specialty"
            },
            {
                mainCategoryId: "1003",
                categoryName: "Surgery(Impatient/Outpatient)",
                categoryDisplayName: "Surgery(Impatient/Outpatient)"
            },
            {
                mainCategoryId: "1004",
                categoryName: "Behavioral Health",
                categoryDisplayName: "Behavioral Health"
            },
            {
                mainCategoryId: "1005",
                categoryName: "Immunizations",
                categoryDisplayName: "Immunizations"
            }
        ]
    };
    var categories = {
        responseCode: "000",
        responseDescription: "SUCCESS",
        subCategories: [
            {
                mlpCode: null,
                SubCategoryCode: null,
                TreatmentCategoryCode: '09401',
                ValidationTransaction: null,
                ValidationTypeCode: null,
                SubCategoryId: "2839",
                PrntSubcategoryId: "2436",
                MainCategoryId: "1001",
                SubcategoryName: "CT Abdomen & Pelvis",
                SubcategoryType: "bundle",
                SubDisplayName: "CAT scan, Abdomen and pelvis",
                ChildExsIndicator: "N",
                SubCategoryStatusCode: "Active"
            }, {
                mlpCode: null,
                SubCategoryCode: null,
                TreatmentCategoryCode: "09403",
                ValidationTransaction: null,
                ValidationTypeCode: null,
                SubCategoryId: "2843",
                PrntSubcategoryId: "2436",
                MainCategoryId: "1001",
                SubcategoryName: "CT Abdomen & Pelvis",
                SubcategoryType: "bundle",
                SubDisplayName: "CAT scan, Abdomen and pelvis",
                ChildExsIndicator: "N",
                SubCategoryStatusCode: "Active"
            }, {
                mlpCode: null,
                SubCategoryCode: null,
                TreatmentCategoryCode: '09404',
                ValidationTransaction: null,
                ValidationTypeCode: null,
                SubCategoryId: "2845",
                PrntSubcategoryId: "2436",
                MainCategoryId: "1001",
                SubcategoryName: "CT Abdomen & Pelvis witout and with contrast",
                SubcategoryType: "bundle",
                SubDisplayName: "CAT scan(without and with contrast), Abdomen and pelvis",
                ChildExsIndicator: "N",
                SubCategoryStatusCode: "Active"
            }, {
                mlpCode: null,
                SubCategoryCode: null,
                TreatmentCategoryCode: "09402",
                ValidationTransaction: null,
                ValidationTypeCode: null,
                SubCategoryId: "2841",
                PrntSubcategoryId: "2436",
                MainCategoryId: "1001",
                SubcategoryName: "CT Abdomen & Pelvis without contrast",
                SubcategoryType: "bundle",
                SubDisplayName: "CAT scan(without contrast), Abdomen and pelvis",
                ChildExsIndicator: "N",
                SubCategoryStatusCode: "Active"
            }, {
                mlpCode: null,
                SubCategoryCode: null,
                TreatmentCategoryCode: '09001',
                ValidationTransaction: null,
                ValidationTypeCode: null,
                SubCategoryId: "2833",
                PrntSubcategoryId: "2436",
                MainCategoryId: "1001",
                SubcategoryName: "CT Angiography",
                SubcategoryType: "bundle",
                SubDisplayName: "CT Angiography",
                ChildExsIndicator: "N",
                SubCategoryStatusCode: "InActive"
            }, {
                mlpCode: null,
                SubCategoryCode: null,
                TreatmentCategoryCode: "09002",
                ValidationTransaction: null,
                ValidationTypeCode: null,
                SubCategoryId: "2836",
                PrntSubcategoryId: "2436",
                MainCategoryId: "1001",
                SubcategoryName: "CT Angiography,Abdomen without and with contrast",
                SubcategoryType: "bundle",
                SubDisplayName: "CT Angiography,Abdomen",
                ChildExsIndicator: "N",
                SubCategoryStatusCode: "Active"
            }
        ]
    }
    response.mainCategories = response.mainCategories.sort(function (a, b) {
        return a.mainCategoryId - b.mainCategoryId
    });
    response.mainCategories.forEach(function (value, index) {
        var css = index === 0 ? " in" : "";
        var isOpen = index === 0;
        var collapsed = index === 0 ? "" : "collapsed";
        var sideMenu = '', sideContent = '';
        categories.subCategories.forEach(function (subValue, index) {
            if (subValue.MainCategoryId === value.mainCategoryId) {
                sideMenu = '<div class="panel-body default-border"> Stomach </div>' +
                    '<div class="panel-body default-border"> Ankle </div>' +
                    '<div class="panel-body default-border"> Arm </div>' +
                    '<div class="panel-body default-border"> Back </div>' +
                    '<div class="panel-body default-border"> Breast </div>' +
                    '<div class="panel-body default-border"> Chest </div>' +
                    '<div class="panel-body default-border"> Entire body </div>' +
                    '<div class="panel-body default-border"> Foot </div>' +
                    '<div class="panel-body default-border"> Head </div>' +
                    '<div class="panel-body default-border"> Hip </div>' +
                    '<div class="panel-body default-border"> Leg </div>' +
                    '<div class="panel-body default-border"> Lungs </div>' +
                    '<div class="panel-body default-border"> Neck </div>' +
                    '<div class="panel-body default-border"> Pelvis </div>' +
                    '<div class="panel-body default-border"> Spine </div>';
                sideContent += '<div class="panel-body default-border-b p-lr-none"> <a class="collapsed-title">' + subValue.SubDisplayName + '</a> </div>';
            }
        });
       var accordian = ' <ul class="accordion">\n' +
           '        <li>\n' +
           '            <a class="toggle" href="javascript:void(0);">'+ value.categoryDisplayName+'</a>'+
           '            <ul class="inner">\n' +
           '<div class="medium-3 columns">' +
           sideMenu +
           '</div> <div class="medium-9 columns ">' +
           sideContent +
           '</div>' +
           '            </ul>\n' +
           '        </li></ul>';
        $("#accordionGroupOpen").append(accordian);
    });
</script>
<script>
    $('.toggle').click(function(e) {
        e.preventDefault();

        var $this = $(this);

        if ($this.next().hasClass('show')) {
            $this.next().removeClass('show');
            $this.next().slideUp(350);
        } else {
            $this.parent().parent().find('li .inner').removeClass('show');
            $this.parent().parent().find('li .inner').slideUp(350);
            $this.next().toggleClass('show');
            $this.next().slideToggle(350);
        }
    });
</script>